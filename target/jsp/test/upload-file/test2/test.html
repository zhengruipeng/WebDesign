<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<form action="handle.jsp" enctype="application/x-www-form-urlencoded" method="post">
    <input type="text" name="name" value="1234" />
    <input type="text" name="val" value="4321" />
    <input type="submit" />
</form>
<form action="handleImage.jsp" enctype="multipart/form-data" method="post">
  <input type="file" name="file" />
  <input type="text" name="val" value="4321" />
    <input type="submit" />
    <input type="submit" />
</form>
<script type="module" src="fetch2.js"></script>
<script type="module">
  document.addEventListener("DOMContentLoaded",function (){
    const form = this.forms[1];
    const sub = form.querySelector("input[type='submit']");
    sub.onclick = function (ev){
        ev.preventDefault();
        fetch("./handleImage.jsp",{
            method:'POST',
            body:new FormData(form),
            headers:new Headers({
                "content-type":"multipart/form-data",
            })
        }).then(response => response.text())
            .then(console.log);
    };

  })
</script>
</body>
</html>